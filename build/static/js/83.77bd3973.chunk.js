!function(){"use strict";function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_(e)}function e(e){var i=function(e,i){if("object"!==_(e)||null===e)return e;var c=e[Symbol.toPrimitive];if(void 0!==c){var t=c.call(e,i||"default");if("object"!==_(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===_(i)?i:String(i)}function i(_,i,c){return(i=e(i))in _?Object.defineProperty(_,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):_[i]=c,_}function c(_,e){var i=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(_,e).enumerable}))),i.push.apply(i,c)}return i}function t(_){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){i(_,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(_,e,Object.getOwnPropertyDescriptor(t,e))}))}return _}function r(_,e){(null==e||e>_.length)&&(e=_.length);for(var i=0,c=new Array(e);i<e;i++)c[i]=_[i];return c}function a(_){return function(_){if(Array.isArray(_))return r(_)}(_)||function(_){if("undefined"!==typeof Symbol&&null!=_[Symbol.iterator]||null!=_["@@iterator"])return Array.from(_)}(_)||function(_,e){if(_){if("string"===typeof _)return r(_,e);var i=Object.prototype.toString.call(_).slice(8,-1);return"Object"===i&&_.constructor&&(i=_.constructor.name),"Map"===i||"Set"===i?Array.from(_):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(_,e):void 0}}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d,n;!function(_){_.CONSIDERABLE="considerable",_.MAJOR="major",_.EXTREME="extreme"}(n||(n={}));i(d={},n.CONSIDERABLE,{titleI18N:"2A.progress.considerable.title",titleDefault:"Considerable",color:"#9DC3E6",prefix:"c"}),i(d,n.MAJOR,{titleI18N:"2A.progress.major.title",titleDefault:"Major",color:"#FFE699",prefix:"m"}),i(d,n.EXTREME,{titleI18N:"2A.progress.extreme.title",titleDefault:"Extreme",color:"#F47C7C",prefix:"e"});var u=["Ha","Hb","Hc","Sa","Sb","Sc","Sd","Ea","Fa","Fb"],m=function(_){return _===n.CONSIDERABLE?"_c":_===n.MAJOR?"_m":"_e"},o=function(_,e,i){return e===n.CONSIDERABLE&&i===n.CONSIDERABLE?_.c2c:e===n.CONSIDERABLE&&i===n.MAJOR?_.c2m:e===n.CONSIDERABLE&&i===n.EXTREME?_.c2e:e===n.MAJOR&&i===n.CONSIDERABLE?_.m2c:e===n.MAJOR&&i===n.MAJOR?_.m2m:e===n.MAJOR&&i===n.EXTREME?_.m2e:e===n.EXTREME&&i===n.CONSIDERABLE?_.e2c:e===n.EXTREME&&i===n.MAJOR?_.e2m:_.e2e},f=function _(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length<=0)return[];var c=[],r=[].concat(a(i),a(e.map((function(_){return _.effect.riskId}))));e.forEach((function(_){_.effect.effects.forEach((function(_){r.indexOf(_.effect.riskId)<0&&c.push(_)}))}));var d=_(c,r);return e.map((function(_){return t(t({},_),{},{effect:t(t({},_.effect),{},{effects:_.effect.effects.reduce((function(_,e){var i=d.find((function(_){return e.effect.riskId===_.effect.riskId}));return i?[].concat(a(_),[t(t({},e),{},{effect:i.effect})]):_}),[])})})}))};function s(_){l(_,n.CONSIDERABLE),l(_,n.MAJOR),l(_,n.EXTREME)}function l(_,e){var i=m(e);_["ti".concat(i)]=function(_,e){return e===n.CONSIDERABLE?_.di_c:e===n.MAJOR?_.di_m:_.di_e}(_,e)+_.effects.reduce((function(_,i){return i.effect.ti<=0&&s(i.effect),function(_,e,i,c,t){var r=m(e);u.forEach((function(e){_["ii_".concat(e).concat(r)]=i*_.effect["ti_".concat(e,"_c")]+c*_.effect["ti_".concat(e,"_m")]+t*_.effect["ti_".concat(e,"_e")]})),_["ii".concat(r)]=i*_.effect.ti_c+c*_.effect.ti_m+t*_.effect.ti_e}(i,e,o(i,e,n.CONSIDERABLE),o(i,e,n.MAJOR),o(i,e,n.EXTREME)),_+function(_,e){return e===n.CONSIDERABLE?_.ii_c:e===n.MAJOR?_.ii_m:_.ii_e}(i,e)}),0),u.forEach((function(e){_["ti_".concat(e).concat(i)]=_["di_".concat(e).concat(i)]+_.effects.reduce((function(_,c){return _+c["ii_".concat(e).concat(i)]}),0)})),_.ti=-1}var p=function(_,e,i){return e===n.CONSIDERABLE&&i===n.CONSIDERABLE?_.c2c:e===n.CONSIDERABLE&&i===n.MAJOR?_.c2m:e===n.CONSIDERABLE&&i===n.EXTREME?_.c2e:e===n.MAJOR&&i===n.CONSIDERABLE?_.m2c:e===n.MAJOR&&i===n.MAJOR?_.m2m:e===n.MAJOR&&i===n.EXTREME?_.m2e:e===n.EXTREME&&i===n.CONSIDERABLE?_.e2c:e===n.EXTREME&&i===n.MAJOR?_.e2m:_.e2e},E=function _(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length<=0)return[];var c=[],r=[].concat(a(i),a(e.map((function(_){return _.cause.riskId}))));e.forEach((function(_){_.cause.causes.forEach((function(_){r.indexOf(_.cause.riskId)<0&&c.push(_)}))}));var d=_(c,r);return e.map((function(_){return t(t({},_),{},{cause:t(t({},_.cause),{},{causes:_.cause.causes.reduce((function(_,e){var i=d.find((function(_){return e.cause.riskId===_.cause.riskId}));return i?[].concat(a(_),[t(t({},e),{},{cause:i.cause})]):_}),[])})})}))};function S(_){_.tp_c=b(_,n.CONSIDERABLE),_.tp_m=b(_,n.MAJOR),_.tp_e=b(_,n.EXTREME),_.tp=-1,_.tp50_c=q(_,n.CONSIDERABLE),_.tp50_m=q(_,n.MAJOR),_.tp50_e=q(_,n.EXTREME),_.tp50=-1}function b(_,e){return function(_,e){return e===n.CONSIDERABLE?_.dp_c:e===n.MAJOR?_.dp_m:_.dp_e}(_,e)+_.causes.reduce((function(_,i){return i.cause.tp<=0&&S(i.cause),function(_,e,i){e===n.CONSIDERABLE&&(_.ip_c=i),e===n.MAJOR&&(_.ip_m=i),e===n.EXTREME&&(_.ip_e=i)}(i,e,i.cause.tp_c*p(i,n.CONSIDERABLE,e)+i.cause.tp_m*p(i,n.MAJOR,e)+i.cause.tp_e*p(i,n.EXTREME,e)),i.ip=-1,_+function(_,e){return e===n.CONSIDERABLE?_.ip_c:e===n.MAJOR?_.ip_m:_.ip_e}(i,e)}),0)}function q(_,e){return function(_,e){return e===n.CONSIDERABLE?_.dp50_c:e===n.MAJOR?_.dp50_m:_.dp50_e}(_,e)+_.causes.reduce((function(_,i){return i.cause.tp50<=0&&S(i.cause),function(_,e,i){e===n.CONSIDERABLE&&(_.ip50_c=i),e===n.MAJOR&&(_.ip50_m=i),e===n.EXTREME&&(_.ip50_e=i)}(i,e,i.cause.tp50_c*p(i,n.CONSIDERABLE,e)+i.cause.tp50_m*p(i,n.MAJOR,e)+i.cause.tp50_e*p(i,n.EXTREME,e)),i.ip50=-1,_+function(_,e){return e===n.CONSIDERABLE?_.ip50_c:e===n.MAJOR?_.ip50_m:_.ip50_e}(i,e)}),0)}var O,h,M,R=["Ha","Hb","Hc","Sa","Sb","Sc","Sd","Ea","Fa","Fb"];function A(_){_.tr_c=_.tp_c*_.ti_c,_.tr_m=_.tp_m*_.ti_m,_.tr_e=_.tp_e*_.ti_e,_.tr=(_.tr_c+_.tr_m+_.tr_e)/3,_.tr50_c=_.tp50_c*_.ti_c,_.tr50_m=_.tp50_m*_.ti_m,_.tr50_e=_.tp50_e*_.ti_e,_.tr50=(_.tr50_c+_.tr50_m+_.tr50_e)/3,_.causes.forEach((function(e){e.ir_c=0===_.tp_c?0:_.tr_c*e.ip_c/_.tp_c,e.ir_m=0===_.tp_m?0:_.tr_m*e.ip_m/_.tp_m,e.ir_e=0===_.tp_e?0:_.tr_e*e.ip_e/_.tp_e,e.ir=(e.ir_c+e.ir_m+e.ir_e)/3,e.ir50_c=0===_.tp50_c?0:_.tr50_c*e.ip50_c/_.tp50_c,e.ir50_m=0===_.tp50_m?0:_.tr50_m*e.ip50_m/_.tp50_m,e.ir50_e=0===_.tp50_e?0:_.tr50_e*e.ip50_e/_.tp50_e,e.ir50=(e.ir50_c+e.ir50_m+e.ir50_e)/3})),_.effects.forEach((function(e){e.ir_c=0===_.ti_c?0:_.tr_c*(e.ii_c/_.ti_c),e.ir_m=0===_.ti_m?0:_.tr_m*(e.ii_m/_.ti_m),e.ir_e=0===_.ti_e?0:_.tr_e*(e.ii_e/_.ti_e),e.ir=(e.ir_c+e.ir_m+e.ir_e)/3}));var e,i=(e=function(_){var e=[_.tp_c*_.ti_c,_.tp_m*_.ti_m,_.tp_e*_.ti_e];return[n.CONSIDERABLE,n.MAJOR,n.EXTREME][e.indexOf(Math.max.apply(Math,e))]}(_))===n.CONSIDERABLE?"_c":e===n.MAJOR?"_m":"_e";_.dp=_["dp".concat(i)],_.tp=_["tp".concat(i)],_.dp50=_["dp50".concat(i)],_.tp50=_["tp50".concat(i)],_.causes.forEach((function(_){_.ip=_["ip".concat(i)],_.ip50=_["ip50".concat(i)]})),_.di=_["di".concat(i)],_.ti=_["ti".concat(i)],R.forEach((function(e){_["ti_".concat(e)]=_["ti_".concat(e).concat(i)]})),_.effects.forEach((function(_){_.ii=_["ii".concat(i)]}))}!function(_){_.CONSENSUS="consensus",_.AVERAGE="average",_.MISSING="no input"}(O||(O={})),function(_){_.STANDARD="Standard Risk",_.MANMADE="Malicious Man-made Risk",_.EMERGING="Emerging Risk"}(h||(h={})),function(_){_.CYBER="Cyber",_.ECOTECH="EcoTech",_.HEALTH="Health",_.MANMADE="Man-made",_.NATURE="Nature",_.TRANSVERSAL="Transversal",_.EMERGING="Emerging Risk",_.TEST="Test"}(M||(M={}));var H;!function(_){_[_.MEETING=0]="MEETING",_[_.SILENCE=1]="SILENCE",_[_.NONE=2]="NONE"}(H||(H={}));var y={0:0,.5:5e3,1:16e3,1.5:5e4,2:16e4,2.5:5e5,3:16e5,3.5:5e6,4:16e6,4.5:5e7,5:16e7,5.5:5e8};function v(_){return null===_?0:1e3*y[_.slice(2)]}var I={0:3e4,1:3e3,2:300,3:30,4:3,5:.3},F={0:.01,1:.5,2:0,3:1},D={0:0,.5:.001,1:.004,1.5:.01,2:.04,2.5:.1,3:.3,3.5:.5,4:.7,4.5:.9,5:.95},N=function(_,e){return(e-_)/(Math.log10(e)-Math.log10(_))},g=function(_,e){return(_+e)/2};function C(_){return null===_?0:1-Math.exp(-1/(365*function(_){if("DP0"===_)return N(I[0],10*I[0]);if(_.indexOf(".")>=0){var e=Math.floor(parseFloat(_.replace("DP","")));return I[e]}var i=parseInt(_.replace("DP",""),10);return N(I[i],I[i-1])}(_)))}function k(_){return null===_?0:-1*Math.log(1-function(_){if("M0"===_)return g(0,F[0]);if(_.indexOf(".")>=0){var e=Math.floor(parseFloat(_.replace("M","")));return F[e]}var i=parseInt(_.replace("M",""),10);return g(F[i-1],F[i])}(_))/1095}function T(_){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null===_?0:_.startsWith("DP")?C(_)*e:_.startsWith("CP")?D[_.replace("CP","")]*e:_.startsWith("M")?k(_)*e:-1}var x,B;["cr4de_dp_quali_c","cr4de_dp_quanti_c","cr4de_dp_quali_m","cr4de_dp_quanti_m","cr4de_dp_quali_e","cr4de_dp_quanti_e","cr4de_di_quali_h_c","cr4de_di_quanti_ha_c","cr4de_di_quanti_hb_c","cr4de_di_quanti_hc_c","cr4de_di_quali_s_c","cr4de_di_quanti_sa_c","cr4de_di_quanti_sb_c","cr4de_di_quanti_sc_c","cr4de_di_quanti_sd_c","cr4de_di_quali_e_c","cr4de_di_quanti_ea_c","cr4de_di_quali_f_c","cr4de_di_quanti_fa_c","cr4de_di_quanti_fb_c","cr4de_di_quali_h_m","cr4de_di_quanti_ha_m","cr4de_di_quanti_hb_m","cr4de_di_quanti_hc_m","cr4de_di_quali_s_m","cr4de_di_quanti_sa_m","cr4de_di_quanti_sb_m","cr4de_di_quanti_sc_m","cr4de_di_quanti_sd_m","cr4de_di_quali_e_m","cr4de_di_quanti_ea_m","cr4de_di_quali_f_m","cr4de_di_quanti_fa_m","cr4de_di_quanti_fb_m","cr4de_di_quali_h_e","cr4de_di_quanti_ha_e","cr4de_di_quanti_hb_e","cr4de_di_quanti_hc_e","cr4de_di_quali_s_e","cr4de_di_quanti_sa_e","cr4de_di_quanti_sb_e","cr4de_di_quanti_sc_e","cr4de_di_quanti_sd_e","cr4de_di_quali_e_e","cr4de_di_quanti_ea_e","cr4de_di_quali_f_e","cr4de_di_quanti_fa_e","cr4de_di_quanti_fb_e","cr4de_cross_border_impact_quali_c","cr4de_cross_border_impact_quali_m","cr4de_cross_border_impact_quali_e","cr4de_dp50_quanti_c","cr4de_dp50_quanti_m","cr4de_dp50_quanti_e"].filter((function(_){return _.indexOf("quanti")>0}));!function(_){_[_.DP=0]="DP",_[_.DP2050=1]="DP2050",_[_.H=2]="H",_[_.S=3]="S",_[_.E=4]="E",_[_.F=5]="F",_[_.CB=6]="CB"}(B||(B={}));i(x={},B.DP,{name:"dp",label:"Direct Probability"}),i(x,B.DP2050,{name:"dp50",label:"Direct Probability 2050"}),i(x,B.H,{name:"h",label:"Direct Human Impact"}),i(x,B.S,{name:"s",label:"Direct Societal Impact"}),i(x,B.E,{name:"e",label:"Direct Environmental Impact"}),i(x,B.F,{name:"f",label:"Direct Financial Impact"}),i(x,B.CB,{name:"cb",label:"Cross-border Effects"}),i({},B.DP,{name:"dp",label:"Motivation"});function L(_){var e=_.filter((function(_){return null!==_}));if(e.length<=0)return null;var i=e[0].slice(0,e[0].search(/\d/));return{prefix:i,numbers:e.map((function(_){return parseInt(_.replace(i,""),10)}))}}function J(_,e){var i=e?e.reduce((function(_,e){return _+e})):_.length;return Math.round(2*_.reduce((function(_,c,t){return e?_+c*e[t]/i:_+c/i}),0))/2}function P(_,e){var i=L(_);return i?"".concat(i.prefix).concat(J(i.numbers,e)):null}var j=.1,G=["M01","MO2","M03","M04","M05"],X=["CO3","C04","C05","M06","M07","M08","M09","M10","M11","M12","M13","M14","M15","M16","M17","M18","M19","M20"],w=["H09","H10"],z=function(_,e,c,t,r){var a,d=c.indexOf("climate_change")>=0?"cr4de_dp50_quanti":c,n="di_Sc"===d?j:1;return i(a={},"".concat(_,"_c"),r(P(t.map((function(_){return _["".concat(d,"_c")]})),t.map((function(_){return _.cr4de_quality&&_.cr4de_quality["".concat(e,"_c")]||2.5}))))*n),i(a,"".concat(_,"_m"),r(P(t.map((function(_){return _["".concat(d,"_m")]})),t.map((function(_){return _.cr4de_quality&&_.cr4de_quality["".concat(e,"_m")]||2.5}))))*n),i(a,"".concat(_,"_e"),r(P(t.map((function(_){return _["".concat(d,"_e")]})),t.map((function(_){return _.cr4de_quality&&_.cr4de_quality["".concat(e,"_e")]||2.5}))))*n),a};function U(_,e,c,r,d,n){var u=c.filter((function(_){return w.indexOf(_.cr4de_cause_hazard.cr4de_hazard_id)<0&&w.indexOf(_.cr4de_effect_hazard.cr4de_hazard_id)<0})),m=u.map((function(_){return _.cr4de_bnrariskcascadeid})),o=n.filter((function(_){return m.indexOf(_._cr4de_cascade_value)>=0})),f=d.reduce((function(_,e){return _[e._cr4de_risk_file_value]?t(t({},_),{},i({},e._cr4de_risk_file_value,[].concat(a(_[e._cr4de_risk_file_value]),[e]))):t(t({},_),{},i({},e._cr4de_risk_file_value,[e]))}),{}),s=o.reduce((function(_,e){return _[e._cr4de_cascade_value]?t(t({},_),{},i({},e._cr4de_cascade_value,[].concat(a(_[e._cr4de_cascade_value]),[e]))):t(t({},_),{},i({},e._cr4de_cascade_value,[e]))}),{}),l=_.filter((function(_){return _.cr4de_risk_type!==h.EMERGING})).map((function(_){var e=function(_,e,i){var c=i?i.filter((function(_){return e.some((function(e){return e._cr4de_contact_value===_.cr4de_expert.contactid&&"expert"===e.cr4de_role&&e.cr4de_direct_analysis_finished}))})):[],r=_.cr4de_title.indexOf("International Armed")>=0?.1:1,a=_.cr4de_title.indexOf("Meteorite")>=0?.01:1,d=_.cr4de_title.indexOf("food supply")>=0?.1:1;return X.indexOf(_.cr4de_hazard_id)>=0&&(a*=.1),_.cr4de_consensus_date&&new Date(_.cr4de_consensus_date)<=new Date||_.cr4de_risk_type===h.EMERGING?{quality:O.CONSENSUS,reliability:c.length,dp_c:T(_.cr4de_dp_quanti_c,a),dp_m:T(_.cr4de_dp_quanti_m,a),dp_e:T(_.cr4de_dp_quanti_e,a),di_Ha_c:v(_.cr4de_di_quanti_ha_c)*r,di_Hb_c:v(_.cr4de_di_quanti_hb_c)*r,di_Hc_c:v(_.cr4de_di_quanti_hc_c)*r,di_Sa_c:v(_.cr4de_di_quanti_sa_c)*r,di_Sb_c:v(_.cr4de_di_quanti_sb_c)*r,di_Sc_c:v(_.cr4de_di_quanti_sc_c)*r*j,di_Sd_c:v(_.cr4de_di_quanti_sd_c)*r*.1,di_Ea_c:v(_.cr4de_di_quanti_ea_c)*r*.1,di_Fa_c:v(_.cr4de_di_quanti_fa_c)*r,di_Fb_c:v(_.cr4de_di_quanti_fb_c)*r,di_Ha_m:v(_.cr4de_di_quanti_ha_m)*r,di_Hb_m:v(_.cr4de_di_quanti_hb_m)*r,di_Hc_m:v(_.cr4de_di_quanti_hc_m)*r,di_Sa_m:v(_.cr4de_di_quanti_sa_m)*r,di_Sb_m:v(_.cr4de_di_quanti_sb_m)*r,di_Sc_m:v(_.cr4de_di_quanti_sc_m)*r*j,di_Sd_m:v(_.cr4de_di_quanti_sd_m)*r*.1,di_Ea_m:v(_.cr4de_di_quanti_ea_m)*r*.1,di_Fa_m:v(_.cr4de_di_quanti_fa_m)*r,di_Fb_m:v(_.cr4de_di_quanti_fb_m)*r,di_Ha_e:v(_.cr4de_di_quanti_ha_e)*r*d,di_Hb_e:v(_.cr4de_di_quanti_hb_e)*r*d,di_Hc_e:v(_.cr4de_di_quanti_hc_e)*r*d,di_Sa_e:v(_.cr4de_di_quanti_sa_e)*r*d,di_Sb_e:v(_.cr4de_di_quanti_sb_e)*r*d,di_Sc_e:v(_.cr4de_di_quanti_sc_e)*r*j*d,di_Sd_e:v(_.cr4de_di_quanti_sd_e)*r*.1*d,di_Ea_e:v(_.cr4de_di_quanti_ea_e)*r*.1*d,di_Fa_e:v(_.cr4de_di_quanti_fa_e)*r*d,di_Fb_e:v(_.cr4de_di_quanti_fb_e)*r*d,dp50_c:_.cr4de_climate_change_quanti_c?T(_.cr4de_climate_change_quanti_c):T(_.cr4de_dp_quanti_c,a),dp50_m:_.cr4de_climate_change_quanti_m?T(_.cr4de_climate_change_quanti_m):T(_.cr4de_dp_quanti_m,a),dp50_e:_.cr4de_climate_change_quanti_e?T(_.cr4de_climate_change_quanti_e):T(_.cr4de_dp_quanti_e,a)}:c.length>0?t(t(t(t(t(t(t(t(t(t(t(t({quality:O.AVERAGE,reliability:c.length},z("dp","dp","cr4de_dp_quanti",c,T)),z("di_Ha","h","cr4de_di_quanti_ha",c,v)),z("di_Hb","h","cr4de_di_quanti_hb",c,v)),z("di_Hc","h","cr4de_di_quanti_hc",c,v)),z("di_Sa","s","cr4de_di_quanti_sa",c,v)),z("di_Sb","s","cr4de_di_quanti_sb",c,v)),z("di_Sc","s","cr4de_di_quanti_sc",c,v)),z("di_Sd","s","cr4de_di_quanti_sd",c,v)),z("di_Ea","e","cr4de_di_quanti_ea",c,v)),z("di_Fa","f","cr4de_di_quanti_fa",c,v)),z("di_Fb","f","cr4de_di_quanti_fb",c,v)),z("dp50","cc","cr4de_climate_change_quanti",c,T)):{quality:O.MISSING,reliability:0,dp_c:0,dp_m:0,dp_e:0,di_Ha_c:0,di_Hb_c:0,di_Hc_c:0,di_Sa_c:0,di_Sb_c:0,di_Sc_c:0,di_Sd_c:0,di_Ea_c:0,di_Fa_c:0,di_Fb_c:0,di_Ha_m:0,di_Hb_m:0,di_Hc_m:0,di_Sa_m:0,di_Sb_m:0,di_Sc_m:0,di_Sd_m:0,di_Ea_m:0,di_Fa_m:0,di_Fb_m:0,di_Ha_e:0,di_Hb_e:0,di_Hc_e:0,di_Sa_e:0,di_Sb_e:0,di_Sc_e:0,di_Sd_e:0,di_Ea_e:0,di_Fa_e:0,di_Fb_e:0,dp50_c:0,dp50_m:0,dp50_e:0}}(_,r.filter((function(e){return e._cr4de_risk_file_value===_.cr4de_riskfilesid})),f[_.cr4de_riskfilesid]),i=t(t({riskId:_.cr4de_riskfilesid,riskTitle:_.cr4de_title,timestamp:Date.now()},e),{},{dp:0,dp50:0,ip_c:0,ip_m:0,ip_e:0,ip:0,ip50_c:0,ip50_m:0,ip50_e:0,ip50:0,tp_c:0,tp_m:0,tp_e:0,tp:0,tp50_c:0,tp50_m:0,tp50_e:0,tp50:0,rp_c:0,rp_m:0,rp_e:0,di_Ha:e.di_Ha_c+e.di_Ha_m+e.di_Ha_e,di_Hb:e.di_Hb_c+e.di_Hb_m+e.di_Hb_e,di_Hc:e.di_Hc_c+e.di_Hc_m+e.di_Hc_e,di_Sa:e.di_Sa_c+e.di_Sa_m+e.di_Sa_e,di_Sb:e.di_Sb_c+e.di_Sb_m+e.di_Sb_e,di_Sc:e.di_Sc_c+e.di_Sc_m+e.di_Sc_e,di_Sd:e.di_Sd_c+e.di_Sd_m+e.di_Sd_e,di_Ea:e.di_Ea_c+e.di_Ea_m+e.di_Ea_e,di_Fa:e.di_Fa_c+e.di_Fa_m+e.di_Fa_e,di_Fb:e.di_Fb_c+e.di_Fb_m+e.di_Fb_e,di_c:e.di_Ha_c+e.di_Hb_c+e.di_Hc_c+e.di_Sa_c+e.di_Sb_c+e.di_Sc_c+e.di_Sd_c+e.di_Ea_c+e.di_Fa_c+e.di_Fb_c,di_m:e.di_Ha_m+e.di_Hb_m+e.di_Hc_m+e.di_Sa_m+e.di_Sb_m+e.di_Sc_m+e.di_Sd_m+e.di_Ea_m+e.di_Fa_m+e.di_Fb_m,di_e:e.di_Ha_e+e.di_Hb_e+e.di_Hc_e+e.di_Sa_e+e.di_Sb_e+e.di_Sc_e+e.di_Sd_e+e.di_Ea_e+e.di_Fa_e+e.di_Fb_e,di:0,ii_Ha_c:0,ii_Hb_c:0,ii_Hc_c:0,ii_Sa_c:0,ii_Sb_c:0,ii_Sc_c:0,ii_Sd_c:0,ii_Ea_c:0,ii_Fa_c:0,ii_Fb_c:0,ii_Ha_m:0,ii_Hb_m:0,ii_Hc_m:0,ii_Sa_m:0,ii_Sb_m:0,ii_Sc_m:0,ii_Sd_m:0,ii_Ea_m:0,ii_Fa_m:0,ii_Fb_m:0,ii_Ha_e:0,ii_Hb_e:0,ii_Hc_e:0,ii_Sa_e:0,ii_Sb_e:0,ii_Sc_e:0,ii_Sd_e:0,ii_Ea_e:0,ii_Fa_e:0,ii_Fb_e:0,ii_Ha:0,ii_Hb:0,ii_Hc:0,ii_Sa:0,ii_Sb:0,ii_Sc:0,ii_Sd:0,ii_Ea:0,ii_Fa:0,ii_Fb:0,ii_c:0,ii_m:0,ii_e:0,ii:0,ti_Ha_c:0,ti_Hb_c:0,ti_Hc_c:0,ti_Sa_c:0,ti_Sb_c:0,ti_Sc_c:0,ti_Sd_c:0,ti_Ea_c:0,ti_Fa_c:0,ti_Fb_c:0,ti_Ha_m:0,ti_Hb_m:0,ti_Hc_m:0,ti_Sa_m:0,ti_Sb_m:0,ti_Sc_m:0,ti_Sd_m:0,ti_Ea_m:0,ti_Fa_m:0,ti_Fb_m:0,ti_Ha_e:0,ti_Hb_e:0,ti_Hc_e:0,ti_Sa_e:0,ti_Sb_e:0,ti_Sc_e:0,ti_Sd_e:0,ti_Ea_e:0,ti_Fa_e:0,ti_Fb_e:0,ti_Ha:0,ti_Hb:0,ti_Hc:0,ti_Sa:0,ti_Sb:0,ti_Sc:0,ti_Sd:0,ti_Ea:0,ti_Fa:0,ti_Fb:0,ti_c:0,ti_m:0,ti_e:0,ti:0,tr_c:0,tr_m:0,tr_e:0,tr:0,tr50_c:0,tr50_m:0,tr50_e:0,tr50:0,causes:[],effects:[]});return i.di=i.di_c+i.di_m+i.di_e,i})),p=l.reduce((function(_,e){return t(t({},_),{},i({},e.riskId,e))}),{});return u.forEach((function(_){if(_.cr4de_cause_hazard.cr4de_risk_type!==h.EMERGING){var i=p[_._cr4de_cause_hazard_value],c=p[_._cr4de_effect_hazard_value];if(i&&c){var a=t(t({cause:i,effect:c,cascadeId:_.cr4de_bnrariskcascadeid,cascadeTitle:"".concat(i.riskTitle," causes ").concat(c.riskTitle),damp:_.cr4de_damp||!0},function(_){var e=(1-_.c2c)*(1-_.c2m)*(1-_.c2e),i=(1-_.m2c)*(1-_.m2m)*(1-_.m2e),c=(1-_.e2c)*(1-_.e2m)*(1-_.e2e),r=e+_.c2c+_.c2m+_.c2e,a=i+_.m2c+_.m2m+_.m2e,d=c+_.e2c+_.e2m+_.e2e;return t(t({},_),{},{c2c:_.c2c/r,c2m:_.c2m/r,c2e:_.c2e/r,m2c:_.m2c/a,m2m:_.m2m/a,m2e:_.m2e/a,e2c:_.e2c/d,e2m:_.e2m/d,e2e:_.e2e/d})}(function(_,e,i,c,r){var a=r?r.filter((function(_){return c.some((function(e){return e._cr4de_contact_value===_.cr4de_expert.contactid&&"expert"===e.cr4de_role&&e.cr4de_direct_analysis_finished}))})).map((function(_){return e.cr4de_title.indexOf("food supply")>=0&&"laurie.phillips@economie.fgov.be"===_.cr4de_expert.emailaddress1?t(t({},_),{},{cr4de_c2c:_.cr4de_c2e,cr4de_c2e:_.cr4de_c2c,cr4de_m2c:_.cr4de_m2e,cr4de_m2e:_.cr4de_m2c,cr4de_e2c:_.cr4de_e2e,cr4de_e2e:_.cr4de_e2c}):_})):[],d=1;("9458db5b-aa6c-ed11-9561-000d3adf7089"===_.cr4de_riskfilesid||"9458db5b-aa6c-ed11-9561-000d3adf7089"===e.cr4de_riskfilesid&&_.cr4de_risk_type!==h.MANMADE)&&(d*=.1),G.indexOf(_.cr4de_hazard_id)>=0&&X.indexOf(e.cr4de_hazard_id)>=0&&(d*=.1);var n=e.cr4de_title.indexOf("International Armed")>=0?.1:1;return(e.cr4de_consensus_date&&new Date(e.cr4de_consensus_date)<=new Date||e.cr4de_risk_type===h.EMERGING)&&(e.cr4de_title.indexOf("food supply")<0||["Failure of electricity supply","Failure of road transport","Agricultural Plant Diseases & Pests","Commodities shortage"].indexOf(_.cr4de_title)<0)?null!==i.cr4de_c2c_cause?{quality:O.CONSENSUS,reliabilty:a.length,c2c:(T(i.cr4de_c2c)+T(i.cr4de_c2c_cause))/2*d,c2m:(T(i.cr4de_c2m)+T(i.cr4de_c2m_cause))/2*d,c2e:(T(i.cr4de_c2e)+T(i.cr4de_c2e_cause))/2*d*n,m2c:(T(i.cr4de_m2c)+T(i.cr4de_m2c_cause))/2*d,m2m:(T(i.cr4de_m2m)+T(i.cr4de_m2m_cause))/2*d,m2e:(T(i.cr4de_m2e)+T(i.cr4de_m2e_cause))/2*d*n,e2c:(T(i.cr4de_e2c)+T(i.cr4de_e2c_cause))/2*d,e2m:(T(i.cr4de_e2m)+T(i.cr4de_e2m_cause))/2*d,e2e:(T(i.cr4de_e2e)+T(i.cr4de_e2e_cause))/2*d*n}:{quality:O.CONSENSUS,reliabilty:a.length,c2c:T(i.cr4de_c2c)*d,c2m:T(i.cr4de_c2m)*d,c2e:T(i.cr4de_c2e)*d*n,m2c:T(i.cr4de_m2c)*d,m2m:T(i.cr4de_m2m)*d,m2e:T(i.cr4de_m2e)*d*n,e2c:T(i.cr4de_e2c)*d,e2m:T(i.cr4de_e2m)*d,e2e:T(i.cr4de_e2e)*d*n}:a.length>0?{quality:O.AVERAGE,reliabilty:a.length,c2c:T(P(a.map((function(_){return _.cr4de_c2c})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,c2m:T(P(a.map((function(_){return _.cr4de_c2m})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,c2e:T(P(a.map((function(_){return _.cr4de_c2e})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,m2c:T(P(a.map((function(_){return _.cr4de_m2c})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,m2m:T(P(a.map((function(_){return _.cr4de_m2m})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,m2e:T(P(a.map((function(_){return _.cr4de_m2e})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,e2c:T(P(a.map((function(_){return _.cr4de_e2c})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,e2m:T(P(a.map((function(_){return _.cr4de_e2m})),a.map((function(_){return _.cr4de_quality||2.5}))))*d,e2e:T(P(a.map((function(_){return _.cr4de_e2e})),a.map((function(_){return _.cr4de_quality||2.5}))))*d}:{quality:O.MISSING,reliabilty:0,c2c:0,c2m:0,c2e:0,m2c:0,m2m:0,m2e:0,e2c:0,e2m:0,e2e:0}}(e[_._cr4de_cause_hazard_value],e[_._cr4de_effect_hazard_value],_,r.filter((function(e){return e._cr4de_risk_file_value===_._cr4de_cause_hazard_value||e._cr4de_risk_file_value===_._cr4de_effect_hazard_value})),s[_.cr4de_bnrariskcascadeid]))),{},{ip_c:0,ip_m:0,ip_e:0,ip:0,ip50_c:0,ip50_m:0,ip50_e:0,ip50:0,ii_Ha_c:0,ii_Hb_c:0,ii_Hc_c:0,ii_Sa_c:0,ii_Sb_c:0,ii_Sc_c:0,ii_Sd_c:0,ii_Ea_c:0,ii_Fa_c:0,ii_Fb_c:0,ii_Ha_m:0,ii_Hb_m:0,ii_Hc_m:0,ii_Sa_m:0,ii_Sb_m:0,ii_Sc_m:0,ii_Sd_m:0,ii_Ea_m:0,ii_Fa_m:0,ii_Fb_m:0,ii_Ha_e:0,ii_Hb_e:0,ii_Hc_e:0,ii_Sa_e:0,ii_Sb_e:0,ii_Sc_e:0,ii_Sd_e:0,ii_Ea_e:0,ii_Fa_e:0,ii_Fb_e:0,ii_Ha:0,ii_Hb:0,ii_Hc:0,ii_Sa:0,ii_Sb:0,ii_Sc:0,ii_Sd:0,ii_Ea:0,ii_Fa:0,ii_Fb:0,ii_c:0,ii_m:0,ii_e:0,ii:0,ir_c:0,ir_m:0,ir_e:0,ir:0,ir50_c:0,ir50_m:0,ir50_e:0,ir50:0});i.effects.push(a),c.causes.push(a)}}})),l}function V(_,e){var c=_.riskFiles,r=_.cascades,a=_.participations,d=_.directAnalyses,n=_.cascadeAnalyses,u=c.reduce((function(_,e){return t(t({},_),{},i({},e.cr4de_riskfilesid,e))}),{}),m=(r.reduce((function(_,e){return t(t({},_),{},i({},e.cr4de_bnrariskcascadeid,e))}),{}),U(c,u,r,a,d,n));return m.map((function(_,i){var c,r=function(_){return t(t({},_),{},{effects:f(_.effects,[_.riskId])})}(t(t({},c=_),{},{causes:E(c.causes,[c.riskId])}));return S(r),s(r),A(r),e(100*(i+1)/m.length),r}))}self.onmessage=function(_){var e=V(_.data,(function(_){return self.postMessage({type:"progress",value:_})}));self.postMessage({type:"result",value:e})}}();
//# sourceMappingURL=83.77bd3973.chunk.js.map