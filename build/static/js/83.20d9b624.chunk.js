!function(){"use strict";function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_(e)}function e(e){var i=function(e,i){if("object"!==_(e)||null===e)return e;var c=e[Symbol.toPrimitive];if(void 0!==c){var t=c.call(e,i||"default");if("object"!==_(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"===_(i)?i:String(i)}function i(_,i,c){return(i=e(i))in _?Object.defineProperty(_,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):_[i]=c,_}function c(_,e){var i=Object.keys(_);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(_);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(_,e).enumerable}))),i.push.apply(i,c)}return i}function t(_){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?c(Object(t),!0).forEach((function(e){i(_,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(e){Object.defineProperty(_,e,Object.getOwnPropertyDescriptor(t,e))}))}return _}function r(_,e){(null==e||e>_.length)&&(e=_.length);for(var i=0,c=new Array(e);i<e;i++)c[i]=_[i];return c}function a(_){return function(_){if(Array.isArray(_))return r(_)}(_)||function(_){if("undefined"!==typeof Symbol&&null!=_[Symbol.iterator]||null!=_["@@iterator"])return Array.from(_)}(_)||function(_,e){if(_){if("string"===typeof _)return r(_,e);var i=Object.prototype.toString.call(_).slice(8,-1);return"Object"===i&&_.constructor&&(i=_.constructor.name),"Map"===i||"Set"===i?Array.from(_):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(_,e):void 0}}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n,d;!function(_){_.CONSIDERABLE="considerable",_.MAJOR="major",_.EXTREME="extreme"}(d||(d={}));i(n={},d.CONSIDERABLE,{titleI18N:"2A.progress.considerable.title",titleDefault:"Considerable",color:"#9DC3E6",prefix:"c"}),i(n,d.MAJOR,{titleI18N:"2A.progress.major.title",titleDefault:"Major",color:"#FFE699",prefix:"m"}),i(n,d.EXTREME,{titleI18N:"2A.progress.extreme.title",titleDefault:"Extreme",color:"#F47C7C",prefix:"e"});var u=["Ha","Hb","Hc","Sa","Sb","Sc","Sd","Ea","Fa","Fb"],o=function(_){return _===d.CONSIDERABLE?"_c":_===d.MAJOR?"_m":"_e"},m=function(_,e,i){return e===d.CONSIDERABLE&&i===d.CONSIDERABLE?_.c2c:e===d.CONSIDERABLE&&i===d.MAJOR?_.c2m:e===d.CONSIDERABLE&&i===d.EXTREME?_.c2e:e===d.MAJOR&&i===d.CONSIDERABLE?_.m2c:e===d.MAJOR&&i===d.MAJOR?_.m2m:e===d.MAJOR&&i===d.EXTREME?_.m2e:e===d.EXTREME&&i===d.CONSIDERABLE?_.e2c:e===d.EXTREME&&i===d.MAJOR?_.e2m:_.e2e},f=function _(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length<=0)return[];var c=[],r=[].concat(a(i),a(e.map((function(_){return _.effect.riskId}))));e.forEach((function(_){_.effect.effects.forEach((function(_){r.indexOf(_.effect.riskId)<0&&c.push(_)}))}));var n=_(c,r);return e.map((function(_){return t(t({},_),{},{effect:t(t({},_.effect),{},{effects:_.effect.effects.reduce((function(_,e){var i=n.find((function(_){return e.effect.riskId===_.effect.riskId}));return i?[].concat(a(_),[t(t({},e),{},{effect:i.effect})]):_}),[])})})}))};function s(_){l(_,d.CONSIDERABLE),l(_,d.MAJOR),l(_,d.EXTREME)}function l(_,e){var i=o(e);_["ti".concat(i)]=function(_,e){return e===d.CONSIDERABLE?_.di_c:e===d.MAJOR?_.di_m:_.di_e}(_,e)+_.effects.reduce((function(_,i){return i.effect.ti<=0&&s(i.effect),function(_,e,i,c,t){var r=o(e);u.forEach((function(e){_["ii_".concat(e).concat(r)]=i*_.effect["ti_".concat(e,"_c")]+c*_.effect["ti_".concat(e,"_m")]+t*_.effect["ti_".concat(e,"_e")]})),_["ii".concat(r)]=i*_.effect.ti_c+c*_.effect.ti_m+t*_.effect.ti_e}(i,e,m(i,e,d.CONSIDERABLE),m(i,e,d.MAJOR),m(i,e,d.EXTREME)),_+function(_,e){return e===d.CONSIDERABLE?_.ii_c:e===d.MAJOR?_.ii_m:_.ii_e}(i,e)}),0),u.forEach((function(e){_["ti_".concat(e).concat(i)]=_["di_".concat(e).concat(i)]+_.effects.reduce((function(_,c){return _+c["ii_".concat(e).concat(i)]}),0)})),_.ti=-1}var p=function(_,e,i){return e===d.CONSIDERABLE&&i===d.CONSIDERABLE?_.c2c:e===d.CONSIDERABLE&&i===d.MAJOR?_.c2m:e===d.CONSIDERABLE&&i===d.EXTREME?_.c2e:e===d.MAJOR&&i===d.CONSIDERABLE?_.m2c:e===d.MAJOR&&i===d.MAJOR?_.m2m:e===d.MAJOR&&i===d.EXTREME?_.m2e:e===d.EXTREME&&i===d.CONSIDERABLE?_.e2c:e===d.EXTREME&&i===d.MAJOR?_.e2m:_.e2e},E=function _(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length<=0)return[];var c=[],r=[].concat(a(i),a(e.map((function(_){return _.cause.riskId}))));e.forEach((function(_){_.cause.causes.forEach((function(_){r.indexOf(_.cause.riskId)<0&&c.push(_)}))}));var n=_(c,r);return e.map((function(_){return t(t({},_),{},{cause:t(t({},_.cause),{},{causes:_.cause.causes.reduce((function(_,e){var i=n.find((function(_){return e.cause.riskId===_.cause.riskId}));return i?[].concat(a(_),[t(t({},e),{},{cause:i.cause})]):_}),[])})})}))};function b(_){_.tp_c=S(_,d.CONSIDERABLE),_.tp_m=S(_,d.MAJOR),_.tp_e=S(_,d.EXTREME),_.tp=-1,_.tp50_c=q(_,d.CONSIDERABLE),_.tp50_m=q(_,d.MAJOR),_.tp50_e=q(_,d.EXTREME),_.tp50=-1}function S(_,e){return function(_,e){return e===d.CONSIDERABLE?_.dp_c:e===d.MAJOR?_.dp_m:_.dp_e}(_,e)+_.causes.reduce((function(_,i){return i.cause.tp<=0&&b(i.cause),function(_,e,i){e===d.CONSIDERABLE&&(_.ip_c=i),e===d.MAJOR&&(_.ip_m=i),e===d.EXTREME&&(_.ip_e=i)}(i,e,i.cause.tp_c*p(i,d.CONSIDERABLE,e)+i.cause.tp_m*p(i,d.MAJOR,e)+i.cause.tp_e*p(i,d.EXTREME,e)),i.ip=-1,_+function(_,e){return e===d.CONSIDERABLE?_.ip_c:e===d.MAJOR?_.ip_m:_.ip_e}(i,e)}),0)}function q(_,e){return function(_,e){return e===d.CONSIDERABLE?_.dp50_c:e===d.MAJOR?_.dp50_m:_.dp50_e}(_,e)+_.causes.reduce((function(_,i){return i.cause.tp50<=0&&b(i.cause),function(_,e,i){e===d.CONSIDERABLE&&(_.ip50_c=i),e===d.MAJOR&&(_.ip50_m=i),e===d.EXTREME&&(_.ip50_e=i)}(i,e,i.cause.tp50_c*p(i,d.CONSIDERABLE,e)+i.cause.tp50_m*p(i,d.MAJOR,e)+i.cause.tp50_e*p(i,d.EXTREME,e)),i.ip50=-1,_+function(_,e){return e===d.CONSIDERABLE?_.ip50_c:e===d.MAJOR?_.ip50_m:_.ip50_e}(i,e)}),0)}var h,O,H,R=["Ha","Hb","Hc","Sa","Sb","Sc","Sd","Ea","Fa","Fb"];!function(_){_.CONSENSUS="consensus",_.AVERAGE="average",_.MISSING="no input"}(h||(h={})),function(_){_.STANDARD="Standard Risk",_.MANMADE="Malicious Man-made Risk",_.EMERGING="Emerging Risk"}(O||(O={})),function(_){_[_.MEETING=0]="MEETING",_[_.SILENCE=1]="SILENCE",_[_.NONE=2]="NONE"}(H||(H={}));var v={0:0,.5:5e3,1:16e3,1.5:5e4,2:16e4,2.5:5e5,3:16e5,3.5:5e6,4:16e6,4.5:5e7,5:16e7,5.5:5e8};function y(_){return null===_?0:1e3*v[_.slice(2)]}var A={0:3e4,1:3e3,2:300,3:30,4:3,5:.3},M={0:.01,1:.5,2:0,3:1},I={0:0,.5:.001,1:.004,1.5:.01,2:.04,2.5:.1,3:.3,3.5:.5,4:.7,4.5:.9,5:.95},F=function(_,e){return(e-_)/(Math.log10(e)-Math.log10(_))},D=function(_,e){return(_+e)/2};function N(_){return null===_?0:1-Math.exp(-1/(365*function(_){if("DP0"===_)return F(A[0],10*A[0]);if(_.indexOf(".")>=0){var e=Math.floor(parseFloat(_.replace("DP","")));return A[e]}var i=parseInt(_.replace("DP",""),10);return F(A[i],A[i-1])}(_)))}function g(_){return null===_?0:-1*Math.log(1-function(_){if("M0"===_)return D(0,M[0]);if(_.indexOf(".")>=0){var e=Math.floor(parseFloat(_.replace("M","")));return M[e]}var i=parseInt(_.replace("M",""),10);return D(M[i-1],M[i])}(_))/1095}function C(_){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null===_?0:_.startsWith("DP")?N(_)*e:_.startsWith("CP")?I[_.replace("CP","")]*e:_.startsWith("M")?g(_)*e:-1}var k,B;["cr4de_dp_quali_c","cr4de_dp_quanti_c","cr4de_dp_quali_m","cr4de_dp_quanti_m","cr4de_dp_quali_e","cr4de_dp_quanti_e","cr4de_di_quali_h_c","cr4de_di_quanti_ha_c","cr4de_di_quanti_hb_c","cr4de_di_quanti_hc_c","cr4de_di_quali_s_c","cr4de_di_quanti_sa_c","cr4de_di_quanti_sb_c","cr4de_di_quanti_sc_c","cr4de_di_quanti_sd_c","cr4de_di_quali_e_c","cr4de_di_quanti_ea_c","cr4de_di_quali_f_c","cr4de_di_quanti_fa_c","cr4de_di_quanti_fb_c","cr4de_di_quali_h_m","cr4de_di_quanti_ha_m","cr4de_di_quanti_hb_m","cr4de_di_quanti_hc_m","cr4de_di_quali_s_m","cr4de_di_quanti_sa_m","cr4de_di_quanti_sb_m","cr4de_di_quanti_sc_m","cr4de_di_quanti_sd_m","cr4de_di_quali_e_m","cr4de_di_quanti_ea_m","cr4de_di_quali_f_m","cr4de_di_quanti_fa_m","cr4de_di_quanti_fb_m","cr4de_di_quali_h_e","cr4de_di_quanti_ha_e","cr4de_di_quanti_hb_e","cr4de_di_quanti_hc_e","cr4de_di_quali_s_e","cr4de_di_quanti_sa_e","cr4de_di_quanti_sb_e","cr4de_di_quanti_sc_e","cr4de_di_quanti_sd_e","cr4de_di_quali_e_e","cr4de_di_quanti_ea_e","cr4de_di_quali_f_e","cr4de_di_quanti_fa_e","cr4de_di_quanti_fb_e","cr4de_cross_border_impact_quali_c","cr4de_cross_border_impact_quali_m","cr4de_cross_border_impact_quali_e","cr4de_dp50_quanti_c","cr4de_dp50_quanti_m","cr4de_dp50_quanti_e"].filter((function(_){return _.indexOf("quanti")>0}));!function(_){_[_.DP=0]="DP",_[_.DP2050=1]="DP2050",_[_.H=2]="H",_[_.S=3]="S",_[_.E=4]="E",_[_.F=5]="F",_[_.CB=6]="CB"}(B||(B={}));i(k={},B.DP,{name:"dp",label:"Direct Probability"}),i(k,B.DP2050,{name:"dp50",label:"Direct Probability 2050"}),i(k,B.H,{name:"h",label:"Direct Human Impact"}),i(k,B.S,{name:"s",label:"Direct Societal Impact"}),i(k,B.E,{name:"e",label:"Direct Environmental Impact"}),i(k,B.F,{name:"f",label:"Direct Financial Impact"}),i(k,B.CB,{name:"cb",label:"Cross-border Effects"}),i({},B.DP,{name:"dp",label:"Motivation"});function L(_){var e=_.filter((function(_){return null!==_}));if(e.length<=0)return null;var i=e[0].slice(0,e[0].search(/\d/));return{prefix:i,numbers:e.map((function(_){return parseInt(_.replace(i,""),10)}))}}function J(_,e){var i=e?e.reduce((function(_,e){return _+e})):_.length;return Math.round(2*_.reduce((function(_,c,t){return e?_+c*e[t]/i:_+c/i}),0))/2}function P(_,e){var i=L(_);return i?"".concat(i.prefix).concat(J(i.numbers,e)):null}var T=function(_,e,c,t,r){var a,n=c.indexOf("climate_change")>=0?"cr4de_dp50_quanti":c;return i(a={},"".concat(_,"_c"),1*r(P(t.map((function(_){return _["".concat(n,"_c")]})),t.map((function(_){return _.cr4de_quality&&_.cr4de_quality["".concat(e,"_c")]||2.5}))))),i(a,"".concat(_,"_m"),1*r(P(t.map((function(_){return _["".concat(n,"_m")]})),t.map((function(_){return _.cr4de_quality&&_.cr4de_quality["".concat(e,"_m")]||2.5}))))),i(a,"".concat(_,"_e"),1*r(P(t.map((function(_){return _["".concat(n,"_e")]})),t.map((function(_){return _.cr4de_quality&&_.cr4de_quality["".concat(e,"_e")]||2.5}))))),a};function x(_,e,c,r,n,d){var u=n.reduce((function(_,e){return _[e._cr4de_risk_file_value]?t(t({},_),{},i({},e._cr4de_risk_file_value,[].concat(a(_[e._cr4de_risk_file_value]),[e]))):t(t({},_),{},i({},e._cr4de_risk_file_value,[e]))}),{}),o=d.reduce((function(_,e){return _[e._cr4de_cascade_value]?t(t({},_),{},i({},e._cr4de_cascade_value,[].concat(a(_[e._cr4de_cascade_value]),[e]))):t(t({},_),{},i({},e._cr4de_cascade_value,[e]))}),{}),m=_.filter((function(_){return _.cr4de_risk_type!==O.EMERGING})).map((function(_){var e=function(_,e,i){var c=i?i.filter((function(_){return e.some((function(e){return e._cr4de_contact_value===_.cr4de_expert.contactid&&"expert"===e.cr4de_role&&e.cr4de_direct_analysis_finished}))})):[],r=_.cr4de_title.indexOf("Meteorite")>=0?.01:1;return _.cr4de_consensus_date&&new Date(_.cr4de_consensus_date)<=new Date||_.cr4de_risk_type===O.EMERGING?{quality:h.CONSENSUS,reliability:c.length,dp_c:C(_.cr4de_dp_quanti_c,r),dp_m:C(_.cr4de_dp_quanti_m,r),dp_e:C(_.cr4de_dp_quanti_e,r),di_Ha_c:y(_.cr4de_di_quanti_ha_c),di_Hb_c:y(_.cr4de_di_quanti_hb_c),di_Hc_c:y(_.cr4de_di_quanti_hc_c),di_Sa_c:y(_.cr4de_di_quanti_sa_c),di_Sb_c:y(_.cr4de_di_quanti_sb_c),di_Sc_c:y(_.cr4de_di_quanti_sc_c)/1,di_Sd_c:y(_.cr4de_di_quanti_sd_c),di_Ea_c:y(_.cr4de_di_quanti_ea_c)/1,di_Fa_c:y(_.cr4de_di_quanti_fa_c),di_Fb_c:y(_.cr4de_di_quanti_fb_c),di_Ha_m:y(_.cr4de_di_quanti_ha_m),di_Hb_m:y(_.cr4de_di_quanti_hb_m),di_Hc_m:y(_.cr4de_di_quanti_hc_m),di_Sa_m:y(_.cr4de_di_quanti_sa_m),di_Sb_m:y(_.cr4de_di_quanti_sb_m),di_Sc_m:y(_.cr4de_di_quanti_sc_m)/1,di_Sd_m:y(_.cr4de_di_quanti_sd_m),di_Ea_m:y(_.cr4de_di_quanti_ea_m)/1,di_Fa_m:y(_.cr4de_di_quanti_fa_m),di_Fb_m:y(_.cr4de_di_quanti_fb_m),di_Ha_e:y(_.cr4de_di_quanti_ha_e),di_Hb_e:y(_.cr4de_di_quanti_hb_e),di_Hc_e:y(_.cr4de_di_quanti_hc_e),di_Sa_e:y(_.cr4de_di_quanti_sa_e),di_Sb_e:y(_.cr4de_di_quanti_sb_e),di_Sc_e:y(_.cr4de_di_quanti_sc_e)/1,di_Sd_e:y(_.cr4de_di_quanti_sd_e),di_Ea_e:y(_.cr4de_di_quanti_ea_e)/1,di_Fa_e:y(_.cr4de_di_quanti_fa_e),di_Fb_e:y(_.cr4de_di_quanti_fb_e),dp50_c:C(_.cr4de_climate_change_quanti_c),dp50_m:C(_.cr4de_climate_change_quanti_m),dp50_e:C(_.cr4de_climate_change_quanti_e)}:c.length>0?t(t(t(t(t(t(t(t(t(t(t(t({quality:h.AVERAGE,reliability:c.length},T("dp","dp","cr4de_dp_quanti",c,C)),T("di_Ha","h","cr4de_di_quanti_ha",c,y)),T("di_Hb","h","cr4de_di_quanti_hb",c,y)),T("di_Hc","h","cr4de_di_quanti_hc",c,y)),T("di_Sa","s","cr4de_di_quanti_sa",c,y)),T("di_Sb","s","cr4de_di_quanti_sb",c,y)),T("di_Sc","s","cr4de_di_quanti_sc",c,y)),T("di_Sd","s","cr4de_di_quanti_sd",c,y)),T("di_Ea","e","cr4de_di_quanti_ea",c,y)),T("di_Fa","f","cr4de_di_quanti_fa",c,y)),T("di_Fb","f","cr4de_di_quanti_fb",c,y)),T("dp50","cc","cr4de_climate_change_quanti",c,C)):{quality:h.MISSING,reliability:0,dp_c:0,dp_m:0,dp_e:0,di_Ha_c:0,di_Hb_c:0,di_Hc_c:0,di_Sa_c:0,di_Sb_c:0,di_Sc_c:0,di_Sd_c:0,di_Ea_c:0,di_Fa_c:0,di_Fb_c:0,di_Ha_m:0,di_Hb_m:0,di_Hc_m:0,di_Sa_m:0,di_Sb_m:0,di_Sc_m:0,di_Sd_m:0,di_Ea_m:0,di_Fa_m:0,di_Fb_m:0,di_Ha_e:0,di_Hb_e:0,di_Hc_e:0,di_Sa_e:0,di_Sb_e:0,di_Sc_e:0,di_Sd_e:0,di_Ea_e:0,di_Fa_e:0,di_Fb_e:0,dp50_c:0,dp50_m:0,dp50_e:0}}(_,r.filter((function(e){return e._cr4de_risk_file_value===_.cr4de_riskfilesid})),u[_.cr4de_riskfilesid]),i=t(t({riskId:_.cr4de_riskfilesid,riskTitle:_.cr4de_title,timestamp:Date.now()},e),{},{dp:0,dp50:0,ip_c:0,ip_m:0,ip_e:0,ip:0,ip50_c:0,ip50_m:0,ip50_e:0,ip50:0,tp_c:0,tp_m:0,tp_e:0,tp:0,tp50_c:0,tp50_m:0,tp50_e:0,tp50:0,rp_c:0,rp_m:0,rp_e:0,di_Ha:e.di_Ha_c+e.di_Ha_m+e.di_Ha_e,di_Hb:e.di_Hb_c+e.di_Hb_m+e.di_Hb_e,di_Hc:e.di_Hc_c+e.di_Hc_m+e.di_Hc_e,di_Sa:e.di_Sa_c+e.di_Sa_m+e.di_Sa_e,di_Sb:e.di_Sb_c+e.di_Sb_m+e.di_Sb_e,di_Sc:e.di_Sc_c+e.di_Sc_m+e.di_Sc_e,di_Sd:e.di_Sd_c+e.di_Sd_m+e.di_Sd_e,di_Ea:e.di_Ea_c+e.di_Ea_m+e.di_Ea_e,di_Fa:e.di_Fa_c+e.di_Fa_m+e.di_Fa_e,di_Fb:e.di_Fb_c+e.di_Fb_m+e.di_Fb_e,di_c:e.di_Ha_c+e.di_Hb_c+e.di_Hc_c+e.di_Sa_c+e.di_Sb_c+e.di_Sc_c+e.di_Sd_c+e.di_Ea_c+e.di_Fa_c+e.di_Fb_c,di_m:e.di_Ha_m+e.di_Hb_m+e.di_Hc_m+e.di_Sa_m+e.di_Sb_m+e.di_Sc_m+e.di_Sd_m+e.di_Ea_m+e.di_Fa_m+e.di_Fb_m,di_e:e.di_Ha_e+e.di_Hb_e+e.di_Hc_e+e.di_Sa_e+e.di_Sb_e+e.di_Sc_e+e.di_Sd_e+e.di_Ea_e+e.di_Fa_e+e.di_Fb_e,di:0,ii_Ha_c:0,ii_Hb_c:0,ii_Hc_c:0,ii_Sa_c:0,ii_Sb_c:0,ii_Sc_c:0,ii_Sd_c:0,ii_Ea_c:0,ii_Fa_c:0,ii_Fb_c:0,ii_Ha_m:0,ii_Hb_m:0,ii_Hc_m:0,ii_Sa_m:0,ii_Sb_m:0,ii_Sc_m:0,ii_Sd_m:0,ii_Ea_m:0,ii_Fa_m:0,ii_Fb_m:0,ii_Ha_e:0,ii_Hb_e:0,ii_Hc_e:0,ii_Sa_e:0,ii_Sb_e:0,ii_Sc_e:0,ii_Sd_e:0,ii_Ea_e:0,ii_Fa_e:0,ii_Fb_e:0,ii_Ha:0,ii_Hb:0,ii_Hc:0,ii_Sa:0,ii_Sb:0,ii_Sc:0,ii_Sd:0,ii_Ea:0,ii_Fa:0,ii_Fb:0,ii_c:0,ii_m:0,ii_e:0,ii:0,ti_Ha_c:0,ti_Hb_c:0,ti_Hc_c:0,ti_Sa_c:0,ti_Sb_c:0,ti_Sc_c:0,ti_Sd_c:0,ti_Ea_c:0,ti_Fa_c:0,ti_Fb_c:0,ti_Ha_m:0,ti_Hb_m:0,ti_Hc_m:0,ti_Sa_m:0,ti_Sb_m:0,ti_Sc_m:0,ti_Sd_m:0,ti_Ea_m:0,ti_Fa_m:0,ti_Fb_m:0,ti_Ha_e:0,ti_Hb_e:0,ti_Hc_e:0,ti_Sa_e:0,ti_Sb_e:0,ti_Sc_e:0,ti_Sd_e:0,ti_Ea_e:0,ti_Fa_e:0,ti_Fb_e:0,ti_Ha:0,ti_Hb:0,ti_Hc:0,ti_Sa:0,ti_Sb:0,ti_Sc:0,ti_Sd:0,ti_Ea:0,ti_Fa:0,ti_Fb:0,ti_c:0,ti_m:0,ti_e:0,ti:0,tr_c:0,tr_m:0,tr_e:0,tr:0,causes:[],effects:[]});return i.di=i.di_c+i.di_m+i.di_e,i})),f=m.reduce((function(_,e){return t(t({},_),{},i({},e.riskId,e))}),{});return c.forEach((function(_){if(_.cr4de_cause_hazard.cr4de_risk_type!==O.EMERGING){var i=f[_._cr4de_cause_hazard_value],c=f[_._cr4de_effect_hazard_value];if(i&&c){var a=t(t({cause:i,effect:c,cascadeId:_.cr4de_bnrariskcascadeid,cascadeTitle:"".concat(i.riskTitle," causes ").concat(c.riskTitle),damp:_.cr4de_damp||!0},function(_){var e=(1-_.c2c)*(1-_.c2m)*(1-_.c2e),i=(1-_.m2c)*(1-_.m2m)*(1-_.m2e),c=(1-_.e2c)*(1-_.e2m)*(1-_.e2e),r=e+_.c2c+_.c2m+_.c2e,a=i+_.m2c+_.m2m+_.m2e,n=c+_.e2c+_.e2m+_.e2e;return t(t({},_),{},{c2c:_.c2c/r,c2m:_.c2m/r,c2e:_.c2e/r,m2c:_.m2c/a,m2m:_.m2m/a,m2e:_.m2e/a,e2c:_.e2c/n,e2m:_.e2m/n,e2e:_.e2e/n})}(function(_,e,i,c,r){var a=r?r.filter((function(_){return c.some((function(e){return e._cr4de_contact_value===_.cr4de_expert.contactid&&"expert"===e.cr4de_role&&e.cr4de_direct_analysis_finished}))})).map((function(_){return e.cr4de_title.indexOf("food supply")>=0&&"laurie.phillips@economie.fgov.be"===_.cr4de_expert.emailaddress1?t(t({},_),{},{cr4de_c2c:_.cr4de_c2e,cr4de_c2e:_.cr4de_c2c,cr4de_m2c:_.cr4de_m2e,cr4de_m2e:_.cr4de_m2c,cr4de_e2c:_.cr4de_e2e,cr4de_e2e:_.cr4de_e2c}):_})):[],n="9458db5b-aa6c-ed11-9561-000d3adf7089"===_.cr4de_riskfilesid||"9458db5b-aa6c-ed11-9561-000d3adf7089"===e.cr4de_riskfilesid?.1:1;return(e.cr4de_consensus_date&&new Date(e.cr4de_consensus_date)<=new Date||e.cr4de_risk_type===O.EMERGING)&&(e.cr4de_title.indexOf("food supply")<0||["Failure of electricity supply","Failure of road transport","Agricultural Plant Diseases & Pests","Commodities shortage"].indexOf(_.cr4de_title)<0)?{quality:h.CONSENSUS,reliabilty:a.length,c2c:C(i.cr4de_c2c)*n,c2m:C(i.cr4de_c2m)*n,c2e:C(i.cr4de_c2e)*n,m2c:C(i.cr4de_m2c)*n,m2m:C(i.cr4de_m2m)*n,m2e:C(i.cr4de_m2e)*n,e2c:C(i.cr4de_e2c)*n,e2m:C(i.cr4de_e2m)*n,e2e:C(i.cr4de_e2e)*n}:a.length>0?{quality:h.AVERAGE,reliabilty:a.length,c2c:C(P(a.map((function(_){return _.cr4de_c2c})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,c2m:C(P(a.map((function(_){return _.cr4de_c2m})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,c2e:C(P(a.map((function(_){return _.cr4de_c2e})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,m2c:C(P(a.map((function(_){return _.cr4de_m2c})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,m2m:C(P(a.map((function(_){return _.cr4de_m2m})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,m2e:C(P(a.map((function(_){return _.cr4de_m2e})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,e2c:C(P(a.map((function(_){return _.cr4de_e2c})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,e2m:C(P(a.map((function(_){return _.cr4de_e2m})),a.map((function(_){return _.cr4de_quality||2.5}))))*n,e2e:C(P(a.map((function(_){return _.cr4de_e2e})),a.map((function(_){return _.cr4de_quality||2.5}))))*n}:{quality:h.MISSING,reliabilty:0,c2c:0,c2m:0,c2e:0,m2c:0,m2m:0,m2e:0,e2c:0,e2m:0,e2e:0}}(e[_._cr4de_cause_hazard_value],e[_._cr4de_effect_hazard_value],_,r.filter((function(e){return e._cr4de_risk_file_value===_._cr4de_cause_hazard_value||e._cr4de_risk_file_value===_._cr4de_effect_hazard_value})),o[_.cr4de_bnrariskcascadeid]))),{},{ip_c:0,ip_m:0,ip_e:0,ip:0,ip50_c:0,ip50_m:0,ip50_e:0,ip50:0,ii_Ha_c:0,ii_Hb_c:0,ii_Hc_c:0,ii_Sa_c:0,ii_Sb_c:0,ii_Sc_c:0,ii_Sd_c:0,ii_Ea_c:0,ii_Fa_c:0,ii_Fb_c:0,ii_Ha_m:0,ii_Hb_m:0,ii_Hc_m:0,ii_Sa_m:0,ii_Sb_m:0,ii_Sc_m:0,ii_Sd_m:0,ii_Ea_m:0,ii_Fa_m:0,ii_Fb_m:0,ii_Ha_e:0,ii_Hb_e:0,ii_Hc_e:0,ii_Sa_e:0,ii_Sb_e:0,ii_Sc_e:0,ii_Sd_e:0,ii_Ea_e:0,ii_Fa_e:0,ii_Fb_e:0,ii_Ha:0,ii_Hb:0,ii_Hc:0,ii_Sa:0,ii_Sb:0,ii_Sc:0,ii_Sd:0,ii_Ea:0,ii_Fa:0,ii_Fb:0,ii_c:0,ii_m:0,ii_e:0,ii:0,ir_c:0,ir_m:0,ir_e:0,ir:0});i.effects.push(a),c.causes.push(a)}}})),m}function j(_,e){var c=_.riskFiles,r=_.cascades,a=_.participations,n=_.directAnalyses,d=_.cascadeAnalyses,u=c.reduce((function(_,e){return t(t({},_),{},i({},e.cr4de_riskfilesid,e))}),{}),o=(r.reduce((function(_,e){return t(t({},_),{},i({},e.cr4de_bnrariskcascadeid,e))}),{}),x(c,u,r,a,n,d));return o.map((function(_,i){var c,r=function(_){return t(t({},_),{},{effects:f(_.effects,[_.riskId])})}(t(t({},c=_),{},{causes:E(c.causes,[c.riskId])}));return console.log("ok"),b(r),s(r),function(_){_.tr_c=_.tp_c*_.ti_c,_.tr_m=_.tp_m*_.ti_m,_.tr_e=_.tp_e*_.ti_e,_.tr=(_.tr_c+_.tr_m+_.tr_e)/3,_.causes.forEach((function(e){e.ir_c=0===_.tp_c?0:_.tr_c*e.ip_c/_.tp_c,e.ir_m=0===_.tp_m?0:_.tr_m*e.ip_m/_.tp_m,e.ir_e=0===_.tp_e?0:_.tr_e*e.ip_e/_.tp_e,e.ir=(e.ir_c+e.ir_m+e.ir_e)/3})),_.effects.forEach((function(e){e.ir_c=0===_.ti_c?0:_.tr_c*(e.ii_c/_.ti_c),e.ir_m=0===_.ti_m?0:_.tr_m*(e.ii_m/_.ti_m),e.ir_e=0===_.ti_e?0:_.tr_e*(e.ii_e/_.ti_e),e.ir=(e.ir_c+e.ir_m+e.ir_e)/3}));var e=function(_){return _.tr_c>_.tr_m&&_.tr_c>_.tr_e?"_c":_.tr_m>_.tr_c&&_.tr_m>_.tr_e?"_m":"_e"}(_);_.dp=_["dp".concat(e)],_.tp=_["tp".concat(e)],_.dp50=_["dp50".concat(e)],_.tp50=_["tp50".concat(e)],_.causes.forEach((function(_){_.ip=_["ip".concat(e)],_.ip50=_["ip50".concat(e)]})),_.di=_["di".concat(e)],_.ti=_["ti".concat(e)],R.forEach((function(i){_["ti_".concat(i)]=_["ti_".concat(i).concat(e)]})),_.effects.forEach((function(_){_.ii=_["ii".concat(e)]}))}(r),e(100*(i+1)/o.length),r}))}self.onmessage=function(_){var e=j(_.data,(function(_){return self.postMessage({type:"progress",value:_})}));self.postMessage({type:"result",value:e})}}();
//# sourceMappingURL=83.20d9b624.chunk.js.map